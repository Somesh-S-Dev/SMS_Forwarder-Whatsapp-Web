# Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# ENCRYPTION CONFIGURATION
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
AES_ENCRYPTION_KEY=your_64_char_hex_key_here
HMAC_SECRET_KEY=your_64_char_hex_key_here

# ============================================================================
# WHATSAPP BUSINESS CLOUD API CONFIGURATION
# ============================================================================
# Get these from Meta Business Suite (https://business.facebook.com)
WHATSAPP_API_TOKEN=your_whatsapp_api_token
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
WHATSAPP_RECIPIENT_NUMBER=your_personal_whatsapp_number

# WhatsApp Templates (must be approved by Meta for each category)
# See docs/WHATSAPP_SETUP.md for template creation guide
WHATSAPP_TEMPLATE_OTP=otp_notification
WHATSAPP_TEMPLATE_TRANSACTION=transaction_alert
WHATSAPP_TEMPLATE_BILL=bill_notification
WHATSAPP_TEMPLATE_SECURITY=security_alert

# ============================================================================
# REDIS CONFIGURATION (Optional)
# ============================================================================
# If not set, will use in-memory storage (not recommended for production)
# REDIS_URL=redis://localhost:6379/0

# ============================================================================
# API CONFIGURATION
# ============================================================================
# Rate limiting (requests per minute)
API_RATE_LIMIT=10/minute

# CORS origins (comma-separated, for Android app)
CORS_ORIGINS=android-app://com.secure.smsforwarder

# ============================================================================
# MESSAGE STORAGE TTL (Time-To-Live in seconds)
# ============================================================================
# How long each message type is stored before automatic deletion
TTL_OTP=300           # 5 minutes (strict for OTPs)
TTL_TRANSACTION=600   # 10 minutes
TTL_BILL=900          # 15 minutes
TTL_SECURITY=600      # 10 minutes

# Duplicate detection window (how long to remember message hashes)
DUPLICATE_DETECTION_WINDOW=3600  # 1 hour

# ============================================================================
# GENERATION INSTRUCTIONS
# ============================================================================
# 
# 1. Generate encryption keys:
#    python -c "import secrets; print('AES:', secrets.token_hex(32))"
#    python -c "import secrets; print('HMAC:', secrets.token_hex(32))"
#
# 2. Set up WhatsApp Business API:
#    - Create Meta Business Account
#    - Add WhatsApp Business product
#    - Get API token and phone number ID
#    - Create and get approval for templates (see docs/WHATSAPP_SETUP.md)
#
# 3. Configure Redis (optional but recommended):
#    - Install Redis: https://redis.io/download
#    - Start Redis server
#    - Set REDIS_URL to your Redis instance
#
# 4. Security reminders:
#    - NEVER commit this .env file to git
#    - Use the SAME keys in both backend and Android app
#    - Store keys securely (password manager)
#    - Rotate keys every 90 days
#
